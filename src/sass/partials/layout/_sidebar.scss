// @file
// Styles for the sidebar layout.
// Media queries use: http://breakpoint-sass.com
// Media queries use: github.com/Team-Sass/breakpoint/wiki/No-Query-Fallbacks
// Grid via: singularity.gs

.layout-sidebar {
  @include add-grid(12 at 700px);
  @include add-gutter(1/3);
  @include breakpoint(900px, $no-query: true) {
    &.has-sidebar {
      .layout-sidebar__main {
        @include grid-span(7,1);
      }
      .layout-sidebar__sidebar {
        @include grid-span(5,8);
      }
      .layout-sidebar__main--half {
        @include grid-span(6,1);
      }
      .layout-sidebar__sidebar--half {
        @include grid-span(6,7);
      }
      .layout-sidebar__main--quarter {
        @include grid-span(3,1);
      }
      .layout-sidebar__sidebar--quarter {
        @include grid-span(9,4);
      }
    }
  }
  @include breakpoint(1100px, $no-query: true) {
    &.has-sidebar {
      .layout-sidebar__main {
        @include grid-span(8,1);
      }
      .layout-sidebar__sidebar {
        @include grid-span(4,9);
      }
    }
  }
}

.layout-sidebar,
.layout-sidebar__preface,
.layout-sidebar__main,
.layout-sidebar__sidebar {
  @include clearfix;
}
.layout-sidebar__sidebar {
  margin: 1.25em 0;
  .press-releases & {
    margin: 1em 0;
  }
  .single-campaign & {
    margin: 0;
    section {
      margin: 3em 0 2em 0;
      &:last-of-type {
        margin-bottom: 0;
      }
    }
  }
  section {
    margin: 1em 0 1em 0;
  }
}
